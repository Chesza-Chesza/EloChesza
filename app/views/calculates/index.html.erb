<div class="container-fluid index_home">
  <p id="notice"><%= notice %></p>
  
  <h1>Chesza</h1>
  
  <div class="container calculator my-5">
    <%= form_with scope: :calculate, model: @calculate, local: false, class: "form-group my-4" do |form| %>
    <div class="field mb-3"><%= form.number_field :player, class: "form-control", placeholder: 'My elo' %></div>
    <div class="field mb-3"><%= form.number_field :opponent, class: "form-control", placeholder: 'Opp. Elo' %></div>
    <div class="field mb-3"><%= form.select :points, [ 1, 0.5, 0 ], { selected: params[:points] }, class:'form-control' %></div>
    <div class="field mb-3"><%= form.select :k_value, [ 40, 30, 20, 15, 10], {selected: params[:k_value]}, class:'form-control', placeholder: 'Select k' %></div>  
    <div class="field"><%= form.submit 'Calculate', class: 'btn btn-dark btn-block rounded mb-4' %></div>
      <% end %>
    <div class="result"></div>
  </div>

  
  <div class="dif_400 col-lg-12">
  <p>* Al ser la diferencia de rating mayor de &plusmn;400, se aplicacomo diferencia límite &plusmn;400.</p>
  <p>Más información en el FIDE Handbook B02.8</p>
  <div>
  
  <h4> Porcentaje esperado</h4>
  <div id="porcentaje"></div>
  
  <h4>K <sub>val</sub></h4>
  <div id="k_value"></div>
  
  <h4>Nuevo elo</h4>
  <div id="nuevoelo"></div>
  
  <div class="col-lg-12">
    <h3>Help notes:</h3>
    <ul>
      <li><strong>Rating - Rating of a player.</strong></li>
      <li><strong>Rc - Opponent rating.</strong></li>
      <li><strong>W - Score.</strong></li>
      <li><strong>K val - K</strong> is the development coefficient.</li>
      <li><strong>K</strong> is the development coefficient.</li><br>
      <li><strong>K = 40</strong> for a player new to the rating list until he hascompleted events with at least 30 games.</li>
      <li><strong>K = 20</strong> as long as a player's rating remains under 2400.<li>
      <li><strong>K = 10</strong> once a player's published rating has reached 2400and remains at that level subsequently, even if the rating drops below 2400.<li>
      <li><strong>K = 40</strong> for all players until their 18th birthday, as longas their rating remains under 2300.</li>
      <li><strong>K = 20</strong> for RAPID and BLITZ ratings all players.</li>
    </ul>
  </div>
</div>

  <% if user_signed_in? %>
    <%= column_chart current_user.points.,
  title: "Performance",
  colors: ['dark'],
  library: {
    tooltip: {
      pointFormat: 'Points: <b>{point.y}</b>'
    }
  }
  %>  
  <% end %>

<footer class="container-fluid bg-dark text-white">
  <div class="container icons d-flex justify-content-between align-items-center px-3">
    <p>CHESZA</p>
    <ul class="footer-icons list-style-none text-white text-decoration-none">
      <li class="d-inline ">
        <a href="https://www.github.com"><i class="fab fa-github-square fa-2x pl-2" style="color:#ffffff"></i></a>
      </li>
      <li class="d-inline">
        <a href="https://www.twitter.com"><i class="fab fa-twitter-square fa-2x pl-2" style="color:#ffffff"></i></a>
      </li>
      <li class="d-inline">
        <a href="https://www.facebook.com"><i class="fab fa-facebook-square fa-2x pl-2" style="color:#ffffff"></i></a>
      </li>
    </ul>
  </div>
</footer>